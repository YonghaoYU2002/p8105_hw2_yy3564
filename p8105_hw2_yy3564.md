p8105_hw1_yy3564
================
Yonghao YU
2024-09-26

Problem 2:

``` r
library(tidyverse)
library(readxl)
```

First, read and clean the Mr.Trash Wheel dataset!

``` r
Mrtrashwheel_df = 
  read_excel("data/202309 Trash Wheel Collection Data.xlsx",
             sheet = 1, 
             range = "A2:N587",
             na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  mutate(year = as.numeric(year)) |>
  filter(weight_tons != 0, volume_cubic_yards != 0) |>
  drop_na(weight_tons:homes_powered) |>
  mutate(sports_balls_modified = as.integer(round(sports_balls, 0)))|>
  select(-sports_balls)
Mrtrashwheel_df
```

    ## # A tibble: 585 × 14
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # ℹ 575 more rows
    ## # ℹ 8 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, homes_powered <dbl>, sports_balls_modified <int>

Then, read and clean the Professor Trash Wheel dataset!

``` r
Proftrashwheel_df = 
  read_excel("data/202309 Trash Wheel Collection Data.xlsx",
             sheet = 2, 
             range = "A2:M109",
             na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  filter(weight_tons != 0, volume_cubic_yards != 0) |>
  drop_na(weight_tons:homes_powered)

Proftrashwheel_df
```

    ## # A tibble: 104 × 13
    ##    dumpster month     year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>    <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 January   2017 2017-01-02 00:00:00        1.79                 15
    ##  2        2 January   2017 2017-01-30 00:00:00        1.58                 15
    ##  3        3 February  2017 2017-02-26 00:00:00        2.32                 18
    ##  4        4 February  2017 2017-02-26 00:00:00        3.72                 15
    ##  5        5 February  2017 2017-02-28 00:00:00        1.45                 15
    ##  6        6 March     2017 2017-03-30 00:00:00        1.71                 15
    ##  7        7 April     2017 2017-04-01 00:00:00        1.82                 15
    ##  8        8 April     2017 2017-04-20 00:00:00        2.37                 15
    ##  9        9 May       2017 2017-05-10 00:00:00        2.64                 15
    ## 10       10 May       2017 2017-05-26 00:00:00        2.78                 15
    ## # ℹ 94 more rows
    ## # ℹ 7 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, homes_powered <dbl>

Last, read and clean the Gwynnda Trash Wheel dataset!

``` r
Gwytrashwheel_df = 
  read_excel("data/202309 Trash Wheel Collection Data.xlsx",
             sheet = 4, 
             range = "A2:L159",
             na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  filter(weight_tons != 0, volume_cubic_yards != 0) |>
  drop_na(weight_tons:homes_powered)

Gwytrashwheel_df
```

    ## # A tibble: 39 × 12
    ##    dumpster month     year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr>    <dbl> <dttm>                    <dbl>              <dbl>
    ##  1      117 November  2022 2022-11-03 00:00:00        3.06                 15
    ##  2      118 November  2022 2022-11-15 00:00:00        3                    15
    ##  3      119 November  2022 2022-11-19 00:00:00        2.42                 15
    ##  4      120 November  2022 2022-11-22 00:00:00        2.37                 15
    ##  5      121 November  2022 2022-11-30 00:00:00        2.91                 15
    ##  6      122 December  2022 2022-12-13 00:00:00        2.35                 14
    ##  7      123 December  2022 2022-12-17 00:00:00        2.8                  15
    ##  8      124 December  2022 2022-12-17 00:00:00        2.69                 15
    ##  9      125 December  2022 2022-12-19 00:00:00        2.27                 15
    ## 10      126 December  2022 2022-12-19 00:00:00        2.5                  15
    ## # ℹ 29 more rows
    ## # ℹ 6 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, plastic_bags <dbl>, wrappers <dbl>,
    ## #   homes_powered <dbl>

Before combining, add an additional column indicating which Trash Wheel
is which!

``` r
Mrtrashwheel_df = mutate(Mrtrashwheel_df, which_trash_wheel = "Mr.Trash Wheel")
Proftrashwheel_df = mutate(Proftrashwheel_df, which_trash_wheel = "Professor Trash Wheel")
Gwytrashwheel_df = mutate(Gwytrashwheel_df, which_trash_wheel = "Gwynnda Trash Wheel")
```

Then find a way to combine the datasets,for “sports_balls_modified is
NA”, convert it into 0.

``` r
combined_df = 
  bind_rows(Mrtrashwheel_df, Proftrashwheel_df, Gwytrashwheel_df) |>
  mutate(sports_balls_modified = ifelse(is.na(sports_balls_modified), 0, sports_balls_modified))
combined_df 
```

    ## # A tibble: 728 × 15
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # ℹ 718 more rows
    ## # ℹ 9 more variables: plastic_bottles <dbl>, polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, plastic_bags <dbl>,
    ## #   wrappers <dbl>, homes_powered <dbl>, sports_balls_modified <dbl>,
    ## #   which_trash_wheel <chr>

Finally, we use inline R to write a paragraph about this data!!!

There are 725 observations in the combined data.

From available data, the total weight of trash collected by Professor
Trash Wheel is 1875.1 tons.

And from available data, the total number of cigarette butts collected
by Gwynnda in June of 2022 is 0.

I think it may because when we do data cleaning, the Gwynnda Trash Wheel
dataset contain rows that do not include dumpster-specific data(June of
2022 is also in this range),and I discard those rows of data, so when I
try to find the number of cigarette butts in the combined dataset, those
part disappear, hence the value is 0!
